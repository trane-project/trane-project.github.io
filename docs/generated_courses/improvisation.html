<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Improvisation Course Generator - The Trane Book</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="../quick_start.html"><strong aria-hidden="true">1.</strong> Quick Start</a></li><li class="chapter-item expanded "><a href="../concepts.html"><strong aria-hidden="true">2.</strong> Concepts and Theory</a></li><li class="chapter-item expanded "><a href="../vision.html"><strong aria-hidden="true">3.</strong> Vision</a></li><li class="chapter-item expanded "><a href="../using_trane.html"><strong aria-hidden="true">4.</strong> Using Trane</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../trane.html"><strong aria-hidden="true">4.1.</strong> trane</a></li><li class="chapter-item expanded "><a href="../trane-cli.html"><strong aria-hidden="true">4.2.</strong> trane-cli</a></li><li class="chapter-item expanded "><a href="../trane-ffi.html"><strong aria-hidden="true">4.3.</strong> trane-ffi</a></li><li class="chapter-item expanded "><a href="../trane-app.html"><strong aria-hidden="true">4.4.</strong> trane-app</a></li><li class="chapter-item expanded "><a href="../trane-server.html"><strong aria-hidden="true">4.5.</strong> trane-server</a></li></ol></li><li class="chapter-item expanded "><a href="../user_preferences.html"><strong aria-hidden="true">5.</strong> User Preferences</a></li><li class="chapter-item expanded "><a href="../saved_filters.html"><strong aria-hidden="true">6.</strong> Saved Filters</a></li><li class="chapter-item expanded "><a href="../official_courses.html"><strong aria-hidden="true">7.</strong> Official Trane Courses</a></li><li class="chapter-item expanded "><a href="../writing_courses.html"><strong aria-hidden="true">8.</strong> Writing Trane Courses</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../generated_courses.html"><strong aria-hidden="true">8.1.</strong> Generated Courses</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../generated_courses/knowledge_base.html"><strong aria-hidden="true">8.1.1.</strong> Knowledge Base Course Generator</a></li><li class="chapter-item expanded "><a href="../generated_courses/music_piece.html"><strong aria-hidden="true">8.1.2.</strong> Music Piece Course Generator</a></li><li class="chapter-item expanded "><a href="../generated_courses/improvisation.html" class="active"><strong aria-hidden="true">8.1.3.</strong> Improvisation Course Generator</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../generated_courses/improvisation/instructions.html"><strong aria-hidden="true">8.1.3.1.</strong> Improvisation Course Instructions</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../licensing.html"><strong aria-hidden="true">9.</strong> Licensing</a></li><li class="chapter-item expanded "><a href="../contributing.html"><strong aria-hidden="true">10.</strong> Contributing to Trane</a></li><li class="chapter-item expanded "><a href="../faq.html"><strong aria-hidden="true">11.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../blog.html"><strong aria-hidden="true">12.</strong> Development Blog</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../blog/semi_literate_programming.html"><strong aria-hidden="true">12.1.</strong> Semi-Literate Programming</a></li><li class="chapter-item expanded "><a href="../blog/100_code_coverage.html"><strong aria-hidden="true">12.2.</strong> Reaching 100% Code Coverage in Rust</a></li></ol></li><li class="chapter-item expanded "><a href="../a_love_supreme.html">A Love Supreme</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Trane Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="improvisation-course-generator"><a class="header" href="#improvisation-course-generator">Improvisation Course Generator</a></h1>
<p>This course generator can be used to practice improvisation based on a set of provided musical
passage. The course has several stages which progressively introduced all the elements of the
musical passages and ask the student to improvise and play with them, both with their voice and
their preferred instruments. More information on each stage and the rest of the instructions can be
found in the <a href="./improvisation/instructions.html">Course Instructions</a> page.</p>
<p>The specification for a musical passage. The passages are picked up automatically if they are in the
specified directory as shown further below.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// A single musical passage to be used in an improvisation course. A course can contain multiple
/// passages but all of those passages are assumed to have the same key or mode.
#[derive(Clone, Debug, Deserialize, PartialEq, Serialize)]
pub struct ImprovisationPassage {
    /// A unique ID to identify this passage. This ID is used to generate the IDs of the exercises
    /// which use this passage.
    pub id: String,

    /// The path to the file containing the passage.
    pub path: String,
}
<span class="boring">}
</span></code></pre></pre>
<p>The specification for the course configuration for improvisation courses:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// The configuration for creating a new improvisation course.
#[derive(Clone, Debug, Default, Deserialize, PartialEq, Serialize)]
#[typeshare]
pub struct ImprovisationConfig {
    /// The dependencies on other improvisation courses. Specifying these dependencies here instead
    /// of the [CourseManifest](crate::data::CourseManifest) allows Trane to generate more
    /// fine-grained dependencies.
    #[serde(default)]
    #[typeshare(serialized_as = &quot;Vec&lt;String&gt;&quot;)]
    pub improvisation_dependencies: Vec&lt;Ustr&gt;,

    /// If true, the course contains passages only have rhythm and contain no melodic nor harmonic
    /// information. Lessons to learn the melody and harmony of the passages will not be generated.
    #[serde(default)]
    pub rhythm_only: bool,

    /// The directory where the passages are stored. The name of each file (minus the extension)
    /// will be used to generate the ID for each exercise. Thus, each of those IDs must be unique.
    /// For example, files `passage.pdf` and `passage.ly` break this rule, even though they have
    /// unique file names.
    ///
    /// The directory can be written relative to the root of the course or as an absolute path. The
    /// first option is recommended.
    pub passage_directory: String,

    /// The list of file extensions that are allowed for the passages. For example, `[&quot;pdf&quot;, &quot;ly&quot;]`.
    /// All other files will be ignored.
    pub file_extensions: Vec&lt;String&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<p><code>Vec&lt;Ustr&gt;</code> is an array of strings and is written as a normal list in the <code>course_manifest.json</code>
file. The rhythm-only option is used for courses that contain passages that only have a rhythm. For
example, a course that teaches drum licks would use this option.</p>
<h2 id="user-preferences"><a class="header" href="#user-preferences">User Preferences</a></h2>
<p>This course also allows the user to set their preferences. Specifically, the user can set the
instruments that they want to practice, as well as additional instruments to be practiced
exclusively in the rhythm lessons (drums, for example).</p>
<p>The specification for an instrument:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Describes an instrument that can be used to practice in a generated course.
#[derive(Clone, Debug, Deserialize, PartialEq, Serialize)]
#[typeshare]
pub struct Instrument {
    /// The name of the instrument. For example, &quot;Tenor Saxophone&quot;.
    pub name: String,

    /// An ID for this instrument used to generate lesson IDs. For example, &quot;tenor_saxophone&quot;.
    pub id: String,
}
<span class="boring">}
</span></code></pre></pre>
<p>The specification for the user preferences for the improvisation courses:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Settings for generating a new improvisation course that are specific to a user.
#[derive(Clone, Debug, Default, Deserialize, Serialize)]
#[typeshare]
pub struct ImprovisationPreferences {
    /// The list of instruments the user wants to practice.
    #[serde(default)]
    pub instruments: Vec&lt;Instrument&gt;,

    /// The list of instruments that only use rhythm. Exercises for these instruments will only
    /// show up in the rhythm lessons.
    #[serde(default)]
    pub rhythm_instruments: Vec&lt;Instrument&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<p>See the <a href="../user_preferences.html">User Preferences</a> page for more information on how to set the user
preferences in Trane.</p>
<h2 id="example-configuration"><a class="header" href="#example-configuration">Example Configuration</a></h2>
<p>Example of a course generator configuration:</p>
<pre><code class="language-json">{
  &quot;id&quot;: &quot;trane::music::improvisation::major_mode_1&quot;,
  &quot;name&quot;: &quot;Major Mode Improvisation 1&quot;,
  &quot;dependencies&quot;: [],
  &quot;description&quot;: &quot;Improvise on basic patterns of the major mode&quot;,
  &quot;authors&quot;: [
    &quot;The Trane Project&quot;
  ],
  &quot;metadata&quot;: null,
  &quot;course_material&quot;: null,
  &quot;course_instructions&quot;: null,
  &quot;generator_config&quot;: {
    &quot;Improvisation&quot;: {
      &quot;improvisation_dependencies&quot;: [],
      &quot;rhythm_only&quot;: false,
      &quot;passage_directory&quot;: &quot;passages&quot;,
      &quot;file_extensions&quot;: [&quot;ly&quot;]
    }
  }
}
</code></pre>
<p>Example of a user preferences file:</p>
<pre><code class="language-json">{
  &quot;improvisation&quot;: {
    &quot;instruments&quot;: [
      {
        &quot;name&quot;: &quot;Piano&quot;,
        &quot;id&quot;: &quot;piano&quot;
      },
      {
        &quot;name&quot;: &quot;Guitar&quot;,
        &quot;id&quot;: &quot;guitar&quot;
      }
    ],
    &quot;rhythm_instruments&quot;: [
      {
        &quot;name&quot;: &quot;Drums&quot;,
        &quot;id&quot;: &quot;drums&quot;
      }
    ]
  }
}
</code></pre>
<h2 id="example-course"><a class="header" href="#example-course">Example Course</a></h2>
<p>The repository <a href="https://github.com/trane-project/trane-improvisation">trane-improvisation</a> contains
all the official improvisation courses. Contributions for this repository are welcome. See the
<a href="../contributing.html">Contributing</a> section for more information.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../generated_courses/music_piece.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../generated_courses/improvisation/instructions.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../generated_courses/music_piece.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../generated_courses/improvisation/instructions.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
