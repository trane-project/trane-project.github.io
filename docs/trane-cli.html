<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>trane-cli - The Trane Book</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Trane Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="trane-cli"><a class="header" href="#trane-cli">trane-cli</a></h1>
<p><a href="https://github.com/trane-project/trane-cli">trane-cli</a> is the command-line interface for Trane.</p>
<h2 id="installation-instructions"><a class="header" href="#installation-instructions">Installation instructions</a></h2>
<p>For installation instructions, refer to the <a href="./quick_start.html">quick start guide</a>.</p>
<h2 id="starting-guide"><a class="header" href="#starting-guide">Starting guide</a></h2>
<h3 id="running-the-command"><a class="header" href="#running-the-command">Running the command</a></h3>
<p>To start the binary call <code>trane</code>, if you installed it, or <code>cargo run</code> from the repo's root
directory. As of now, the command line does not take any arguments. Once you start the CLI, you will
be met with a prompt.</p>
<pre><code>trane &gt;&gt;
</code></pre>
<p>Entering enter executes the input command. Pressing CTRL-C cancels the command. Pressing CTRL-D
sends an EOF signal to break out of the line reading loop.</p>
<h3 id="basic-shortcuts"><a class="header" href="#basic-shortcuts">Basic shortcuts</a></h3>
<ul>
<li>To execute a command, type the command you want followed by the Enter key.</li>
<li>To cancel a command, press CTRL-C.</li>
<li>To exit the CLI, press CTRL-D.</li>
<li>If the CLI suggests a command, you can press the right arrow key to accept the suggestion.</li>
<li>To look through the history of commands, press the up and down arrow keys.</li>
<li>To look up a specific command in the history, press CTRL-R and type the command you want to look
up. Pressing CTRL-R again will cycle through the commands that match the search.</li>
</ul>
<h3 id="entering-your-first-command"><a class="header" href="#entering-your-first-command">Entering your first command</a></h3>
<p>To see the next exercise, enter (prompt not shown for brevity) <code>trane next</code>.</p>
<p>Internally, the <code>clap</code> library is being used to process the input. This requires that a command name
is present, even though it's redundant because this CLI can only run one command. For this reason,
<code>trane-cli</code> automatically prepends the command <code>trane</code> if it's not there already. So all commands
can be run without the need for adding <code>trane</code> to the beginning.</p>
<h3 id="opening-a-course-library"><a class="header" href="#opening-a-course-library">Opening a course library</a></h3>
<p>The previous command returns an error because Trane has not opened a course library. A course
library is a set of courses under a directory containing a subdirectory named <code>.trane/</code>. Inside this
subdirectory, Trane stores the results of previous exercises, blacklists, and saved filters. This
directory is created automatically.</p>
<p>Let's suppose you have downloaded the <a href="https://github.com/trane-project/trane-music">trane-music</a>
and called Trane inside that directory. Then, you can type <code>open ./</code> to load all the library under
that directory.</p>
<h3 id="your-first-study-session"><a class="header" href="#your-first-study-session">Your first study session</a></h3>
<p>If all the courses are valid, the operation will succeed. Now you can run the next command. Your
first exercise should be shown.</p>
<pre><code>trane &gt;&gt; next
Course ID: trane::music::guitar::basic_fretboard
Lesson ID: trane::music::guitar::basic_fretboard::lesson_1
Exercise ID: trane::music::guitar::basic_fretboard::lesson_1::exercise_7

Find the note G in the fretboard at a slow tempo without a metronome.
</code></pre>
<p>If you are unsure on what to do, you can try looking at the instructions for this lesson by
running the <code>instructions lesson</code> command:</p>
<pre><code>trane &gt;&gt; instructions lesson
Go down each string and find the given note in the first twelve frets.
Repeat but this time going up the strings.

Do this at a slow tempo but without a metronome.
</code></pre>
<p>Lessons and courses can also include accompanying material. For example, a lesson on the major scale
could include material defining the major scale, and it's basic intervals for reference. This course
does not contain any material. For those lessons or courses which do, you can display it with the
<code>material lesson</code> and <code>material course</code> commands respectively.</p>
<p>So this exercise belongs to a course teaching the positions of the notes in the guitar fretboard,
and it is asking us to go up and down the strings to find the note. Once you have given the exercise
a try, you can set your score. There are no objective definitions of which score means but the main
difference between them is the degree of unconscious mastery over the exercise. A score of one means
you are just learning the position of the note, you still make mistakes, and have to commit
conscious effort to the task. A score of five would mean you don't even have to think about the task
because it has thoroughly soaked through all the various pathways involved in learning.</p>
<p>Let say we give it a score of two out of five. You can do so by entering <code>score 2</code>. Let's assume
that you also want to verify your answer. If there's an answer associated with the current exercise,
you can show it by running the <code>answer</code> command:</p>
<pre><code>trane &gt;&gt; answer
Course ID: trane::music::guitar::basic_fretboard
Lesson ID: trane::music::guitar::basic_fretboard::lesson_1
Exercise ID: trane::music::guitar::basic_fretboard::lesson_1::exercise_7

Answer:

- 1st string (high E): 3rd fret
- 2nd string (B): 8th fret
- 3rd string (G): 12th fret
- 4th string (D): 5th fret
- 5th string (A): 10th fret
- 6th string (low E): 3rd fret
</code></pre>
<p>To show the current exercise again, you can use the <code>current</code> command. Now it's time to move onto
the next question. Questions are presented in the order Trane schedules them and as you master the
exercises you automatically unlock new lessons and courses.</p>
<h3 id="short-reference-for-other-commands"><a class="header" href="#short-reference-for-other-commands">Short reference for other commands.</a></h3>
<p>At its simplest, the previous commands cover much of the most common operations. The documentation
(accessed with the <code>help</code> or <code>&lt;COMMAND&gt; --help</code> commands) is pretty much self-explanatory for most
other commands.</p>
<pre><code>A command-line interface for Trane

Usage: trane &lt;COMMAND&gt;

Commands:
  answer        Show the answer to the current exercise, if it exists
  blacklist     Subcommands to manipulate the unit blacklist
  current       Display the current exercise
  debug         Subcommands for debugging purposes
  filter        Subcommands for dealing with unit filters
  instructions  Subcommands for showing course and lesson instructions
  list          Subcommands for listing course, lesson, and exercise IDs
  mantra-count  Show the number of Tara Sarasvati mantras recited in the background during the current session
  material      Subcommands for showing course and lesson materials
  next          Submits the score for the current exercise and proceeds to the next
  open          Open the course library at the given location
  repository    Subcommands for manipulating git repositories containing Trane courses
  review-list   Subcommands for manipulating the review list
  score         Record the mastery score (1-5) for the current exercise
  search        Search for courses, lessons, and exercises
  scores        Show the most recent scores for the given exercise
  help          Print this message or the help of the given subcommand(s)

Options:
  -h, --help     Print help
  -V, --version  Print version
</code></pre>
<p>There are however, some details which warrant further explanation.</p>
<p>The <code>filter metadata</code> command allows you to define simple metadata filters. For example, to only
show exercises for the major scale in the key of C, you can type:</p>
<pre><code>trane &gt;&gt; filter metadata --course-metadata scale_type:major --lesson-metadata key:C
Set the unit filter to only show exercises with the given metadata
</code></pre>
<p>The <code>filter set-saved</code> command allows you to user more complex filters by storing the definition of
the filter inside the <code>.trane/filters</code> directory. For now, a filter can be created by serializing a
struct of type <code>NamedFilter</code> into a JSON file (see the file <code>src/data/filter.rs</code> inside the Trane
repo for more details). You can refer to those filters by a unique ID in their file, which can be
also shown by running the <code>filter list-saved</code> command.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="trane.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="trane-app.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="trane.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="trane-app.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
